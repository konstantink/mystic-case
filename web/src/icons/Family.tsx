import * as React from "react";
import { animated, useSpring } from "react-spring";

import SvgIcon from "@mui/material/SvgIcon";

import { BackgroundPart } from "./Clock";

const FiguresPart = ({ delay }: {delay: number}) => {
    const props = useSpring({
        from: { scale: 0, rotate: -90 },
        to: { scale: 1, rotate: 0 },
        config: { duration: 750 },
        delay,
    });

    return (
        <React.Fragment>
            <defs>
                <g>
                    <path id="child-fig" d="M38.254 50.4891L36.0083 29.9017C35.4334 24.631 31.8854 20.1578 26.8842 18.3979C28.8967 16.3553 30.1003 13.5138 29.9718 10.3912C29.7525 5.06237 25.563 0.673966 20.2568 0.137832C13.8211 -0.512354 8.29687 4.53161 8.29687 10.8451C8.29687 13.7885 9.47945 16.4546 11.3938 18.3979C6.39259 20.1578 2.84461 24.631 2.26968 29.9017L0.0239503 50.4891C-0.216773 52.6958 1.38439 54.7387 3.5988 54.8932C5.70174 55.0397 7.5137 53.5007 7.73877 51.4382L6.57559 62.1018C6.5001 62.7931 7.04184 63.397 7.73737 63.397H9.9789V74.0774C9.9789 79.4137 12.0295 80.7608 14.5589 80.7608C15.2968 80.7608 19.139 77.8483 19.139 77.8483C19.139 77.8483 22.9847 80.7608 23.719 80.7608C26.2485 80.7608 28.2991 78.7563 28.2991 74.0774V63.397H30.5406C31.2361 63.397 31.7776 62.7931 31.7022 62.1018L30.539 51.438C30.764 53.5005 32.576 55.0397 34.6789 54.8932C36.8936 54.7387 38.4948 52.6958 38.254 50.4891Z" fill="#5B4DD1"/>
                    <path id="child-shadow-left" d="M2.74518 24.2478C2.67951 24.2478 2.6136 24.2443 2.54676 24.237C1.55349 24.1286 0.835991 23.2356 0.944433 22.2421L3.18456 1.70629C3.293 0.713018 4.18508 -0.00541026 5.17952 0.103733C6.1728 0.212175 6.89029 1.10519 6.78185 2.09869L4.54173 22.6345C4.44053 23.5611 3.65642 24.2478 2.74518 24.2478Z" fill="#3A3185"/>
                    <path id="child-shadow-right" d="M4.53946 24.2479C3.62822 24.2479 2.84412 23.561 2.74315 22.6346L0.503027 2.09882C0.394585 1.10531 1.11208 0.212063 2.10535 0.103854C3.10096 -0.00458815 3.9921 0.713139 4.10031 1.70641L6.34043 22.2422C6.44887 23.2357 5.73138 24.1289 4.73811 24.2372C4.67126 24.2444 4.60513 24.2479 4.53946 24.2479Z" fill="#3A3185"/>
                    <path id="child-shadow-bottom" d="M14.7208 4.65745C13.2487 4.65745 11.9385 3.96285 11.1006 2.88334C10.6108 2.25232 9.67057 2.25232 9.18071 2.88334C8.34285 3.96285 7.0329 4.65745 5.56051 4.65745C3.03105 4.65745 0.980469 2.60686 0.980469 0.0773926V4.31015C0.980469 6.79357 2.91163 8.90866 5.39341 8.997C7.99906 9.08955 10.1403 7.00485 10.1403 4.42C10.1403 7.00485 12.2816 9.08955 14.8872 8.997C17.369 8.9089 19.3002 6.79357 19.3002 4.31015V0.0773926C19.3006 2.60686 17.2503 4.65745 14.7208 4.65745Z" fill="#3A3185"/>
                    <path id="child-shadow-legs" d="M2.14533 19.2294C1.14598 19.2294 0.335938 18.4194 0.335938 17.42V2.39704C0.335938 1.39769 1.14598 0.587646 2.14533 0.587646C3.14468 0.587646 3.95472 1.39769 3.95472 2.39704V17.42C3.95472 18.4194 3.14445 19.2294 2.14533 19.2294Z" fill="#3A3185"/>
                </g>
                <g>
                    <path id="parent-fig" d="M39.6128 56.8756L36.9753 29.8291C36.5042 24.5659 33.0029 20.0627 28.0183 18.3087C29.9329 16.3657 31.1153 13.6992 31.1153 10.7559C31.1153 4.6726 26.4758 0 20.2731 0C14.1777 0 9.43103 4.6726 9.43103 10.7559C9.43103 13.6992 10.6136 16.3654 12.5279 18.3087C7.54334 20.0627 4.04211 24.5659 3.57094 29.8291L0.933508 56.8756C0.682736 59.1751 2.48372 61.1829 4.79676 61.1829C6.78004 61.1826 8.445 59.6892 8.66001 57.7179L7.68473 68.4342C7.62257 69.1186 8.16127 69.7087 8.84838 69.7087H11.1133V90.9678C11.1133 96.066 13.0444 97.6697 15.5262 97.758C16.2982 97.7854 20.2731 94.4139 20.2731 94.4139C20.2731 94.4139 24.246 97.7856 25.0201 97.758C27.5018 97.6697 29.433 95.3104 29.433 90.9678V69.7087H31.6979C32.385 69.7087 32.924 69.1186 32.8616 68.4342L31.8863 57.7179C32.1013 59.6895 33.7662 61.1829 35.7495 61.1829C38.0626 61.1829 39.8635 59.1748 39.6128 56.8756Z" fill="#F4AA73"/>
                    <path id="parent-shadow-left" d="M2.65535 30.527C2.60043 30.527 2.54481 30.5244 2.48895 30.5193C1.4938 30.4286 0.760652 29.5484 0.851332 28.5533L3.30461 1.64862C3.39529 0.653477 4.27241 -0.0813131 5.27083 0.0110031C6.26597 0.101683 6.99912 0.981842 6.90844 1.97699L4.45517 28.8816C4.3694 29.8209 3.58038 30.527 2.65535 30.527Z" fill="#E29A6C"/>
                    <path id="parent-shadow-right" d="M4.87762 30.527C3.95236 30.527 3.16358 29.8209 3.07781 28.8816L0.62477 1.97699C0.53409 0.981842 1.26724 0.101683 2.26239 0.0110031C3.25847 -0.0813131 4.13792 0.653477 4.2286 1.64862L6.68164 28.5533C6.77232 29.5484 6.03917 30.4286 5.04403 30.5193C4.98817 30.5244 4.93254 30.527 4.87762 30.527Z" fill="#E29A6C"/>
                    <path id="parent-shadow-bottom" d="M14.0201 5.65438C12.4741 5.7093 11.0914 4.99765 10.2227 3.86999C9.7436 3.24832 8.80268 3.24832 8.32357 3.86999C7.45486 4.99788 6.07222 5.7093 4.52622 5.65438C2.04444 5.56604 0.113281 3.45094 0.113281 0.967529V5.30989C0.113281 7.7933 2.04444 9.90839 4.52622 9.99673C7.13187 10.0893 9.27314 8.00458 9.27314 5.41973C9.27314 8.00458 11.4146 10.0893 14.0201 9.99673C16.5018 9.90839 18.433 7.7933 18.433 5.30989V0.967529C18.433 3.45118 16.5018 5.56627 14.0201 5.65438Z" fill="#E29A6C"/>
                    <path id="parent-shadow-legs" d="M2.26252 30.229C1.26317 30.229 0.453125 29.419 0.453125 28.4196V2.70808C0.453125 1.70873 1.26317 0.898682 2.26252 0.898682C3.26187 0.898682 4.07192 1.70873 4.07192 2.70808V28.4196C4.07192 29.419 3.26164 30.229 2.26252 30.229Z" fill="#E29A6C"/>
                </g>
            </defs>

            <animated.g style={{ transformOrigin: "center", transformBox: "fill-box", ...props }}>
                <use href="#child-fig" x="39" y="47.08"/>
                <use href="#child-shadow-left" x="44.93" y="76.09"/>
                <use href="#child-shadow-right" x="65.49" y="76.09"/>
                <use href="#child-shadow-bottom" x="48.08" y="121.08"/>
                <use href="#child-shadow-legs" x="56.34" y="108.59"/>

                <use href="#parent-fig" x="81.91" y="30"/>
                <use href="#parent-shadow-left" x="87.84" y="59"/>
                <use href="#parent-shadow-right" x="108.62" y="59"/>
                <use href="#parent-shadow-bottom" x="92.91" y="120.97"/>
                <use href="#parent-shadow-legs" x="99.45" y="97.9"/>
            </animated.g>
        </React.Fragment>
    );
};

const FamilyIcon = ({ delay }: {delay: number}) => (
    <SvgIcon viewBox="0 0 160 160">
        <BackgroundPart delay={delay} />
        <FiguresPart delay={delay} />
    </SvgIcon>
);

export default FamilyIcon;
